<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<title>Kil√≥metros que no importan</title>
<link href="https://fonts.googleapis.com/css2?family=Playfair+Display&family=Montserrat:wght@300;400&display=swap" rel="stylesheet">
<link rel="stylesheet" href="styles.css">

<style>
#toggleTheme{
  position:fixed;
  top:20px;
  right:20px;
  z-index:1000;
  padding:8px 12px;
  border:none;
  border-radius:20px;
  cursor:pointer;
}

.counter{
  text-align:center;
  margin-top:30px;
}

#daysTogether{
  font-size:3rem;
  font-weight:bold;
  display:inline-block;
}

.extra-time{
  font-size:0.9rem;
  opacity:0.7;
  margin-top:5px;
}

.heart{
  width:60px;
  margin:15px auto;
  display:block;
  transform-origin:center;
}

@keyframes beat{
  0%{transform:scale(1);}
  25%{transform:scale(1.25);}
  50%{transform:scale(1);}
  75%{transform:scale(1.15);}
  100%{transform:scale(1);}
}

.beating{
  animation:beat 1s infinite;
}

.secret-message{
  margin-top:15px;
  font-style:italic;
  opacity:0;
  transition:opacity 0.6s ease;
}

.secret-message.show{
  opacity:1;
}
</style>
</head>

<body class="night">

<button id="toggleTheme">üåô</button>

<div class="container">
<h1>Kil√≥metros que no importan</h1>
<p class="subtitle">Porque incluso lejos, te siento cerca.</p>

<button id="openLetter">Abrir la carta</button>

<div id="letter" class="hidden">
  <p class="letter-text"></p>
  <span class="signature">‚Äî Yo, eligi√©ndote</span>
</div>

<div class="counter">
  <p>Nos elegimos hace</p>
  <span id="daysTogether"></span>
  <div class="extra-time" id="extraTime"></div>

  <!-- Coraz√≥n SVG -->
  <svg class="heart beating" viewBox="0 0 32 29.6">
    <path fill="red" d="M23.6,0c-3.4,0-6.4,2-7.6,5.1C14.8,2,11.8,0,8.4,0
    C3.8,0,0,3.8,0,8.4c0,9.1,16,21.2,16,21.2s16-12.1,16-21.2C32,3.8,28.2,0,23.6,0z"/>
  </svg>

  <div class="secret-message" id="hiddenMessage">
    Si est√°s leyendo esto‚Ä¶ es porque nos elegimos m√°s fuerte de lo que pensabas.
  </div>
</div>
</div>

<script>
// -------- FECHA INICIO AUTOM√ÅTICA 1 NOVIEMBRE --------
function obtenerInicio(){
  const hoy=new Date();
  const a√±o=hoy.getFullYear();
  const nov=new Date(a√±o,10,1);
  return hoy<nov ? new Date(a√±o-1,10,1):nov;
}

const inicio=obtenerInicio();
const daysSpan=document.getElementById("daysTogether");
const extraTime=document.getElementById("extraTime");

function actualizarTiempo(){
  const ahora=new Date();
  const diff=ahora-inicio;

  const dias=Math.floor(diff/(1000*60*60*24));
  const horas=Math.floor(diff/(1000*60*60));
  const minutos=Math.floor(diff/(1000*60));
  const segundos=Math.floor(diff/1000);

  daysSpan.textContent=dias+" d√≠as";
  extraTime.textContent=horas+" horas ‚Ä¢ "+minutos+" minutos ‚Ä¢ "+segundos+" segundos";
}

setInterval(actualizarTiempo,1000);
actualizarTiempo();

// -------- BOT√ìN CARTA --------
const openLetterBtn=document.getElementById("openLetter");
const letter=document.getElementById("letter");
const letterText=document.querySelector(".letter-text");

const mensaje=`
A pesar de los kil√≥metros,
sigo eligi√©ndote cada d√≠a.
No importa la distancia,
porque lo nuestro no se mide en mapas,
se mide en constancia.
`;

openLetterBtn.addEventListener("click",()=>{
  letter.classList.remove("hidden");
  letterText.textContent=mensaje;
  openLetterBtn.style.display="none";
});

// -------- MENSAJE SECRETO AL MANTENER 3 SEGUNDOS --------
let pressTimer;
const hiddenMessage=document.getElementById("hiddenMessage");

daysSpan.addEventListener("mousedown",()=>{
  pressTimer=setTimeout(()=>{
    hiddenMessage.classList.add("show");
  },3000);
});

daysSpan.addEventListener("mouseup",()=>{
  clearTimeout(pressTimer);
});

daysSpan.addEventListener("mouseleave",()=>{
  clearTimeout(pressTimer);
});

// -------- TOGGLE TEMA --------
const toggleTheme=document.getElementById("toggleTheme");
toggleTheme.addEventListener("click",()=>{
  document.body.classList.toggle("night");
  toggleTheme.textContent=document.body.classList.contains("night")?"üåô":"‚òÄÔ∏è";
});
</script>

</body>
</html>
